{"ast":null,"code":"import { BehaviorSubject, Subject } from 'rxjs';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"angular2-toaster\";\nimport * as i3 from \"ngx-ui-loader\";\nexport class UtilService {\n  constructor(router, toasterService, ngxService) {\n    this.router = router;\n    this.toasterService = toasterService;\n    this.ngxService = ngxService;\n    this.isLoading = false;\n    this.servingCities = [];\n    this.appLogo = '';\n    this.user_login_with = 0;\n    this.user_verification = 0;\n    this.default_country_code = '';\n    this.app_status = 1;\n    this.app_color = 1;\n    this.findType = 0;\n    this.makeOrders = 0;\n    this.reset_pwd = 0;\n    this.address = new Subject();\n    this.coupon = new Subject();\n    this.review = new Subject();\n    this.changeLocation = new Subject();\n    this.loggedIn = new Subject();\n    this.profile = new Subject();\n    this.newOrder = new Subject();\n    this.appPage = [];\n    this.appClosed = false;\n    this.appClosedMessage = '';\n    this.havepopup = false;\n    this.translations = [];\n    this.selectedCity = new BehaviorSubject([]);\n    this.cartBtn = new Subject();\n    this.popupRX = new Subject();\n    this.smsGateway = '0';\n    this.deviceType = 'desktop';\n    this.dummyProducts = [];\n    this.favIds = [];\n    this.haveFav = false;\n    this.modalPopup = new Subject();\n    this.updatePriceOfCart = new Subject();\n    this.locationPicker = new Subject();\n    this.paymentLeavve = new Subject();\n    this.countrys = [];\n    this.user_login = '0';\n    this.home_type = '0';\n    this.active_store = [];\n    this.allLanguages = [];\n    this.headerCategories = [];\n    this.savedLanguages = '';\n    this.social = {\n      fb: '#',\n      insta: '#',\n      twitter: '#',\n      linkedIn: '#',\n      googlePlay: '#',\n      appleStore: '#'\n    };\n    this.selectedCityName = '';\n    this.default_delivery_zip = '';\n    this.default_city_id = '';\n    this.deliveredAddress = '';\n    this.deliveryZipCode = '';\n  }\n\n  publishAddress(data) {\n    this.address.next(data);\n  }\n\n  publishNewOrder() {\n    this.newOrder.next();\n  }\n\n  publishModalPopup(data) {\n    this.modalPopup.next(data);\n  }\n\n  subscribeModalPopup() {\n    return this.modalPopup;\n  }\n\n  publishLocatioPicker() {\n    this.locationPicker.next();\n  }\n\n  subscribeLocationPicker() {\n    return this.locationPicker;\n  }\n\n  publishPriceOfCart() {\n    this.updatePriceOfCart.next();\n  }\n\n  getPriceOfCart() {\n    return this.updatePriceOfCart;\n  }\n\n  updatePaymentIssue() {\n    this.paymentLeavve.next();\n  }\n\n  changeIntevert() {\n    return this.paymentLeavve;\n  }\n\n  publishPopup() {\n    this.popupRX.next();\n  }\n\n  getPopup() {\n    return this.popupRX;\n  }\n\n  publishCartBtn() {\n    this.cartBtn.next();\n  }\n\n  subscribeCartBtn() {\n    return this.cartBtn;\n  }\n\n  toast(type, title, msg) {\n    this.toasterService.pop(type, title, msg);\n  }\n\n  subscribeOrder() {\n    return this.newOrder;\n  }\n\n  translate(str) {\n    if (this.translations[str]) {\n      return this.translations[str];\n    }\n\n    return str;\n  }\n\n  publishReview(data) {\n    this.review.next(data);\n  }\n\n  publishProfile(data) {\n    this.profile.next(data);\n  }\n\n  observProfile() {\n    return this.profile;\n  }\n\n  getReviewObservable() {\n    return this.review;\n  }\n\n  publishLocation(data) {\n    this.changeLocation.next(data);\n  }\n\n  subscribeLocation() {\n    return this.changeLocation;\n  }\n\n  setFav(id) {\n    this.favIds.push(id);\n  }\n\n  removeFav(id) {\n    this.favIds = this.favIds.filter(x => x != id);\n  }\n\n  publishLoggedIn(data) {\n    this.loggedIn.next(data);\n  }\n\n  subscribeLoggedIn() {\n    return this.loggedIn;\n  }\n\n  publishCity(data) {\n    this.selectedCity.next(data);\n  }\n\n  subscribeCity() {\n    return this.selectedCity;\n  }\n\n  getObservable() {\n    return this.address;\n  }\n\n  publishCoupon(data) {\n    this.coupon.next(data);\n  }\n\n  getCouponObservable() {\n    return this.coupon;\n  }\n\n  setOrders(data) {\n    this.orders = null;\n    this.orders = data;\n  }\n\n  getKeys(key) {\n    return new Promise((resolve, reject) => {\n      try {\n        resolve(localStorage.getItem(key));\n      } catch (error) {\n        reject(error);\n      }\n    });\n  }\n\n  clearKeys(key) {\n    localStorage.removeItem(key);\n  }\n\n  setKeys(key, value) {\n    return new Promise((resolve, reject) => {\n      try {\n        resolve(localStorage.setItem(key, value));\n      } catch (error) {\n        reject(error);\n      }\n    });\n  }\n\n  gerOrder() {\n    return this.orders;\n  }\n\n  errorMessage(str) {\n    const Toast = Swal.mixin({\n      toast: true,\n      position: 'bottom-end',\n      showConfirmButton: false,\n      timer: 3000,\n      timerProgressBar: true\n    });\n    Toast.fire({\n      icon: 'error',\n      title: this.translate(str)\n    });\n  }\n\n  suucessMessage(str) {\n    const Toast = Swal.mixin({\n      toast: true,\n      position: 'bottom-end',\n      showConfirmButton: false,\n      timer: 3000,\n      timerProgressBar: true\n    });\n    Toast.fire({\n      icon: 'success',\n      title: this.translate(str)\n    });\n  }\n\n  makeid(length) {\n    let result = '';\n    const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    const charactersLength = characters.length;\n\n    for (let i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n\n    return result;\n  }\n\n  start() {\n    this.ngxService.start();\n  }\n\n  stop() {\n    this.ngxService.stop();\n  }\n\n  apiErrorHandler(err) {\n    // console.log('Error got in service =>', err)\n    if (err && err.status === 401 && err.error.error) {\n      this.errorMessage(err.error.error);\n      this.publishModalPopup('login');\n      return false;\n    }\n\n    if (err && err.status === 500 && err.error.error) {\n      this.errorMessage(err.error.error);\n      return false;\n    }\n\n    if (err.status === -1) {\n      this.errorMessage('Failed To Connect With Server');\n    } else if (err.status === 401) {\n      this.errorMessage('Unauthorized Request!');\n      localStorage.removeItem('token');\n      localStorage.removeItem('uid');\n      this.publishModalPopup('login');\n    } else if (err.status === 500) {\n      this.errorMessage('Somethimg Went Wrong');\n    } else if (err.status === 422 && err.error.error) {\n      this.errorMessage(err.error.error);\n    } else {\n      this.errorMessage('Something went wrong');\n    }\n  }\n\n  loadScript(url) {\n    const body = document.body;\n    const script = document.createElement('script');\n    script.innerHTML = '';\n    script.src = url;\n    script.async = false;\n    script.defer = true;\n    body.appendChild(script);\n  }\n\n}\n\nUtilService.ɵfac = function UtilService_Factory(t) {\n  return new (t || UtilService)(i0.ɵɵinject(i1.Router), i0.ɵɵinject(i2.ToasterService), i0.ɵɵinject(i3.NgxUiLoaderService));\n};\n\nUtilService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: UtilService,\n  factory: UtilService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["C:/Users/Administrator/pure-meat/User-Web-Version/User-Web-Version/src/app/services/util.service.ts"],"names":["BehaviorSubject","Subject","Swal","i0","i1","i2","i3","UtilService","constructor","router","toasterService","ngxService","isLoading","servingCities","appLogo","user_login_with","user_verification","default_country_code","app_status","app_color","findType","makeOrders","reset_pwd","address","coupon","review","changeLocation","loggedIn","profile","newOrder","appPage","appClosed","appClosedMessage","havepopup","translations","selectedCity","cartBtn","popupRX","smsGateway","deviceType","dummyProducts","favIds","haveFav","modalPopup","updatePriceOfCart","locationPicker","paymentLeavve","countrys","user_login","home_type","active_store","allLanguages","headerCategories","savedLanguages","social","fb","insta","twitter","linkedIn","googlePlay","appleStore","selectedCityName","default_delivery_zip","default_city_id","deliveredAddress","deliveryZipCode","publishAddress","data","next","publishNewOrder","publishModalPopup","subscribeModalPopup","publishLocatioPicker","subscribeLocationPicker","publishPriceOfCart","getPriceOfCart","updatePaymentIssue","changeIntevert","publishPopup","getPopup","publishCartBtn","subscribeCartBtn","toast","type","title","msg","pop","subscribeOrder","translate","str","publishReview","publishProfile","observProfile","getReviewObservable","publishLocation","subscribeLocation","setFav","id","push","removeFav","filter","x","publishLoggedIn","subscribeLoggedIn","publishCity","subscribeCity","getObservable","publishCoupon","getCouponObservable","setOrders","orders","getKeys","key","Promise","resolve","reject","localStorage","getItem","error","clearKeys","removeItem","setKeys","value","setItem","gerOrder","errorMessage","Toast","mixin","position","showConfirmButton","timer","timerProgressBar","fire","icon","suucessMessage","makeid","length","result","characters","charactersLength","i","charAt","Math","floor","random","start","stop","apiErrorHandler","err","status","loadScript","url","body","document","script","createElement","innerHTML","src","async","defer","appendChild","ɵfac","UtilService_Factory","t","ɵɵinject","Router","ToasterService","NgxUiLoaderService","ɵprov","ɵɵdefineInjectable","token","factory","providedIn"],"mappings":"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","sourcesContent":["import { BehaviorSubject, Subject } from 'rxjs';\r\nimport Swal from 'sweetalert2';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/router\";\r\nimport * as i2 from \"angular2-toaster\";\r\nimport * as i3 from \"ngx-ui-loader\";\r\nexport class UtilService {\r\n    constructor(router, toasterService, ngxService) {\r\n        this.router = router;\r\n        this.toasterService = toasterService;\r\n        this.ngxService = ngxService;\r\n        this.isLoading = false;\r\n        this.servingCities = [];\r\n        this.appLogo = '';\r\n        this.user_login_with = 0;\r\n        this.user_verification = 0;\r\n        this.default_country_code = '';\r\n        this.app_status = 1;\r\n        this.app_color = 1;\r\n        this.findType = 0;\r\n        this.makeOrders = 0;\r\n        this.reset_pwd = 0;\r\n        this.address = new Subject();\r\n        this.coupon = new Subject();\r\n        this.review = new Subject();\r\n        this.changeLocation = new Subject();\r\n        this.loggedIn = new Subject();\r\n        this.profile = new Subject();\r\n        this.newOrder = new Subject();\r\n        this.appPage = [];\r\n        this.appClosed = false;\r\n        this.appClosedMessage = '';\r\n        this.havepopup = false;\r\n        this.translations = [];\r\n        this.selectedCity = new BehaviorSubject([]);\r\n        this.cartBtn = new Subject();\r\n        this.popupRX = new Subject();\r\n        this.smsGateway = '0';\r\n        this.deviceType = 'desktop';\r\n        this.dummyProducts = [];\r\n        this.favIds = [];\r\n        this.haveFav = false;\r\n        this.modalPopup = new Subject();\r\n        this.updatePriceOfCart = new Subject();\r\n        this.locationPicker = new Subject();\r\n        this.paymentLeavve = new Subject();\r\n        this.countrys = [];\r\n        this.user_login = '0';\r\n        this.home_type = '0';\r\n        this.active_store = [];\r\n        this.allLanguages = [];\r\n        this.headerCategories = [];\r\n        this.savedLanguages = '';\r\n        this.social = {\r\n            fb: '#',\r\n            insta: '#',\r\n            twitter: '#',\r\n            linkedIn: '#',\r\n            googlePlay: '#',\r\n            appleStore: '#'\r\n        };\r\n        this.selectedCityName = '';\r\n        this.default_delivery_zip = '';\r\n        this.default_city_id = '';\r\n        this.deliveredAddress = '';\r\n        this.deliveryZipCode = '';\r\n    }\r\n    publishAddress(data) {\r\n        this.address.next(data);\r\n    }\r\n    publishNewOrder() {\r\n        this.newOrder.next();\r\n    }\r\n    publishModalPopup(data) {\r\n        this.modalPopup.next(data);\r\n    }\r\n    subscribeModalPopup() {\r\n        return this.modalPopup;\r\n    }\r\n    publishLocatioPicker() {\r\n        this.locationPicker.next();\r\n    }\r\n    subscribeLocationPicker() {\r\n        return this.locationPicker;\r\n    }\r\n    publishPriceOfCart() {\r\n        this.updatePriceOfCart.next();\r\n    }\r\n    getPriceOfCart() {\r\n        return this.updatePriceOfCart;\r\n    }\r\n    updatePaymentIssue() {\r\n        this.paymentLeavve.next();\r\n    }\r\n    changeIntevert() {\r\n        return this.paymentLeavve;\r\n    }\r\n    publishPopup() {\r\n        this.popupRX.next();\r\n    }\r\n    getPopup() {\r\n        return this.popupRX;\r\n    }\r\n    publishCartBtn() {\r\n        this.cartBtn.next();\r\n    }\r\n    subscribeCartBtn() {\r\n        return this.cartBtn;\r\n    }\r\n    toast(type, title, msg) {\r\n        this.toasterService.pop(type, title, msg);\r\n    }\r\n    subscribeOrder() {\r\n        return this.newOrder;\r\n    }\r\n    translate(str) {\r\n        if (this.translations[str]) {\r\n            return this.translations[str];\r\n        }\r\n        return str;\r\n    }\r\n    publishReview(data) {\r\n        this.review.next(data);\r\n    }\r\n    publishProfile(data) {\r\n        this.profile.next(data);\r\n    }\r\n    observProfile() {\r\n        return this.profile;\r\n    }\r\n    getReviewObservable() {\r\n        return this.review;\r\n    }\r\n    publishLocation(data) {\r\n        this.changeLocation.next(data);\r\n    }\r\n    subscribeLocation() {\r\n        return this.changeLocation;\r\n    }\r\n    setFav(id) {\r\n        this.favIds.push(id);\r\n    }\r\n    removeFav(id) {\r\n        this.favIds = this.favIds.filter(x => x != id);\r\n    }\r\n    publishLoggedIn(data) {\r\n        this.loggedIn.next(data);\r\n    }\r\n    subscribeLoggedIn() {\r\n        return this.loggedIn;\r\n    }\r\n    publishCity(data) {\r\n        this.selectedCity.next(data);\r\n    }\r\n    subscribeCity() {\r\n        return this.selectedCity;\r\n    }\r\n    getObservable() {\r\n        return this.address;\r\n    }\r\n    publishCoupon(data) {\r\n        this.coupon.next(data);\r\n    }\r\n    getCouponObservable() {\r\n        return this.coupon;\r\n    }\r\n    setOrders(data) {\r\n        this.orders = null;\r\n        this.orders = data;\r\n    }\r\n    getKeys(key) {\r\n        return new Promise((resolve, reject) => {\r\n            try {\r\n                resolve(localStorage.getItem(key));\r\n            }\r\n            catch (error) {\r\n                reject(error);\r\n            }\r\n        });\r\n    }\r\n    clearKeys(key) {\r\n        localStorage.removeItem(key);\r\n    }\r\n    setKeys(key, value) {\r\n        return new Promise((resolve, reject) => {\r\n            try {\r\n                resolve(localStorage.setItem(key, value));\r\n            }\r\n            catch (error) {\r\n                reject(error);\r\n            }\r\n        });\r\n    }\r\n    gerOrder() {\r\n        return this.orders;\r\n    }\r\n    errorMessage(str) {\r\n        const Toast = Swal.mixin({\r\n            toast: true,\r\n            position: 'bottom-end',\r\n            showConfirmButton: false,\r\n            timer: 3000,\r\n            timerProgressBar: true,\r\n        });\r\n        Toast.fire({\r\n            icon: 'error',\r\n            title: this.translate(str)\r\n        });\r\n    }\r\n    suucessMessage(str) {\r\n        const Toast = Swal.mixin({\r\n            toast: true,\r\n            position: 'bottom-end',\r\n            showConfirmButton: false,\r\n            timer: 3000,\r\n            timerProgressBar: true,\r\n        });\r\n        Toast.fire({\r\n            icon: 'success',\r\n            title: this.translate(str)\r\n        });\r\n    }\r\n    makeid(length) {\r\n        let result = '';\r\n        const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n        const charactersLength = characters.length;\r\n        for (let i = 0; i < length; i++) {\r\n            result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n        }\r\n        return result;\r\n    }\r\n    start() {\r\n        this.ngxService.start();\r\n    }\r\n    stop() {\r\n        this.ngxService.stop();\r\n    }\r\n    apiErrorHandler(err) {\r\n        // console.log('Error got in service =>', err)\r\n        if (err && err.status === 401 && err.error.error) {\r\n            this.errorMessage(err.error.error);\r\n            this.publishModalPopup('login');\r\n            return false;\r\n        }\r\n        if (err && err.status === 500 && err.error.error) {\r\n            this.errorMessage(err.error.error);\r\n            return false;\r\n        }\r\n        if (err.status === -1) {\r\n            this.errorMessage('Failed To Connect With Server');\r\n        }\r\n        else if (err.status === 401) {\r\n            this.errorMessage('Unauthorized Request!');\r\n            localStorage.removeItem('token');\r\n            localStorage.removeItem('uid');\r\n            this.publishModalPopup('login');\r\n        }\r\n        else if (err.status === 500) {\r\n            this.errorMessage('Somethimg Went Wrong');\r\n        }\r\n        else if (err.status === 422 && err.error.error) {\r\n            this.errorMessage(err.error.error);\r\n        }\r\n        else {\r\n            this.errorMessage('Something went wrong');\r\n        }\r\n    }\r\n    loadScript(url) {\r\n        const body = document.body;\r\n        const script = document.createElement('script');\r\n        script.innerHTML = '';\r\n        script.src = url;\r\n        script.async = false;\r\n        script.defer = true;\r\n        body.appendChild(script);\r\n    }\r\n}\r\nUtilService.ɵfac = function UtilService_Factory(t) { return new (t || UtilService)(i0.ɵɵinject(i1.Router), i0.ɵɵinject(i2.ToasterService), i0.ɵɵinject(i3.NgxUiLoaderService)); };\r\nUtilService.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: UtilService, factory: UtilService.ɵfac, providedIn: 'root' });\r\n"]},"metadata":{},"sourceType":"module"}