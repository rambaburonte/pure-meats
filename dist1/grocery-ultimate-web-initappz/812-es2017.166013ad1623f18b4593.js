"use strict";(self.webpackChunkgrocery_ultimate_web_initappz=self.webpackChunkgrocery_ultimate_web_initappz||[]).push([[812],{46812:function(t,e,n){n.r(e),n.d(e,{OrderDetailModule:function(){return J}});var i=n(38583),o=n(63318),a=n(16738),r=n(37716),d=n(5830),c=n(67241),l=n(1078);function s(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"div",7),r.\u0275\u0275elementStart(1,"div",8),r.\u0275\u0275elementStart(2,"span",9),r.\u0275\u0275text(3),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(t.util.translate("Loading..."))}}function g(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"span"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext(2).$implicit,e=r.\u0275\u0275nextContext(4);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate2(" ",t.gram," ",e.util.translate("grams")," ")}}function p(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"span"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext(2).$implicit,e=r.\u0275\u0275nextContext(4);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate2(" ",t.kg," ",e.util.translate("kg")," ")}}function m(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"span"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext(2).$implicit,e=r.\u0275\u0275nextContext(4);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate2(" ",t.liter," ",e.util.translate("ltr")," ")}}function _(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"span"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext(2).$implicit,e=r.\u0275\u0275nextContext(4);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate2(" ",t.ml," ",e.util.translate("ml")," ")}}function v(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"span"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext(2).$implicit,e=r.\u0275\u0275nextContext(4);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate2(" ",t.pcs," ",e.util.translate("pcs")," ")}}function x(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"span"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext(2).$implicit,e=r.\u0275\u0275nextContext(4);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate2(" ",e.util.currecny," ",0==t.discount?t.original_price:t.sell_price," ")}}function f(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"span"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext(2).$implicit,e=r.\u0275\u0275nextContext(4);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate2(" ",0==t.discount?t.original_price:t.sell_price," ",e.util.currecny," ")}}function u(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"span"),r.\u0275\u0275text(1),r.\u0275\u0275template(2,g,2,2,"span",23),r.\u0275\u0275template(3,p,2,2,"span",23),r.\u0275\u0275template(4,m,2,2,"span",23),r.\u0275\u0275template(5,_,2,2,"span",23),r.\u0275\u0275template(6,v,2,2,"span",23),r.\u0275\u0275template(7,x,2,2,"span",23),r.\u0275\u0275template(8,f,2,2,"span",23),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext().$implicit,e=r.\u0275\u0275nextContext(4);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1("",t.name," - "),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",1==t.have_gram),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",1==t.have_kg),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",1==t.have_liter),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",1==t.have_ml),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",1==t.have_pcs),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","left"==e.util.cside),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","right"==e.util.cside)}}function C(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"span"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext(2).$implicit,e=r.\u0275\u0275nextContext(4);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate2(" ",e.util.currecny," ",0==t.discount?t.original_price:t.sell_price," ")}}function O(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"span"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext(2).$implicit,e=r.\u0275\u0275nextContext(4);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate2(" ",0==t.discount?t.original_price:t.sell_price," ",e.util.currecny," ")}}function h(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"span"),r.\u0275\u0275text(1),r.\u0275\u0275elementStart(2,"span"),r.\u0275\u0275text(3),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(4,C,2,2,"span",23),r.\u0275\u0275template(5,O,2,2,"span",23),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext().$implicit,e=r.\u0275\u0275nextContext(4);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",t.name," - "),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1(" ",t.variations[0].items[t.variant].title," "),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","left"==e.util.cside),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","right"==e.util.cside)}}function P(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"p",31),r.\u0275\u0275template(1,u,9,8,"span",23),r.\u0275\u0275template(2,h,6,4,"span",23),r.\u0275\u0275elementStart(3,"span"),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",0==t.size),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",1==t.size),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1("X ",t.quantiy,"")}}function M(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"span"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext().$implicit,e=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate2(" ",e.util.currecny," ",e.getTotalBilling(t)," ")}}function y(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"span"),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext().$implicit,e=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate2(" ",e.getTotalBilling(t)," ",e.util.currecny," ")}}function b(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"div"),r.\u0275\u0275elementStart(1,"p",26),r.\u0275\u0275elementStart(2,"span",27),r.\u0275\u0275text(3),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"span",28),r.\u0275\u0275text(5),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(6,P,5,3,"p",29),r.\u0275\u0275elementStart(7,"p",30),r.\u0275\u0275elementStart(8,"span"),r.\u0275\u0275text(9),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(10,M,2,2,"span",23),r.\u0275\u0275template(11,y,2,2,"span",23),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&t){const t=e.$implicit,n=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate1(" ",n.getStoreName(t.id)," "),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1(" ",n.getOrderStatus(t.id)," "),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",t.order),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate1("",n.util.translate("Amount to Pay")," "),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","left"==n.util.cside),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","right"==n.util.cside)}}function I(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"div",24),r.\u0275\u0275template(1,b,12,6,"div",25),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",t.orders)}}function S(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"div",14),r.\u0275\u0275elementStart(1,"p",15),r.\u0275\u0275element(2,"mdb-icon",32),r.\u0275\u0275text(3),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate1(" ",t.address," ")}}function E(t,e){1&t&&r.\u0275\u0275element(0,"mdb-icon",35)}function k(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"span",7),r.\u0275\u0275element(1,"div",33),r.\u0275\u0275template(2,E,1,0,"mdb-icon",34),r.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;r.\u0275\u0275advance(1),r.\u0275\u0275classProp("line_div_darkgray",1==t.status),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",1==t.status)}}function w(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"span",7),r.\u0275\u0275elementStart(1,"div",33),r.\u0275\u0275elementStart(2,"p"),r.\u0275\u0275text(3),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(4,"div",36),r.\u0275\u0275text(5),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()),2&t){const t=e.$implicit;r.\u0275\u0275advance(2),r.\u0275\u0275classProp("round_div_red",1==t.status)("round_div_darkgray",1==t.status),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",t.time,""),r.\u0275\u0275advance(1),r.\u0275\u0275classProp("round_div_red",1==t.status)("round_div_darkgray",1==t.status),r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1(" ",t.value," ")}}function F(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"p",11),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1("",t.util.translate("Driver Informations")," ")}}const z=function(t){return{"background-image":t}};function D(t,e){if(1&t){const t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div",39),r.\u0275\u0275element(1,"div",40),r.\u0275\u0275elementStart(2,"div",41),r.\u0275\u0275listener("click",function(){const e=r.\u0275\u0275restoreView(t).$implicit;return r.\u0275\u0275nextContext(3).contanctDriver(e)}),r.\u0275\u0275elementStart(3,"p",42),r.\u0275\u0275text(4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"p",43),r.\u0275\u0275element(6,"mdb-icon",32),r.\u0275\u0275text(7),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(8,"p",43),r.\u0275\u0275element(9,"mdb-icon",32),r.\u0275\u0275text(10),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()}if(2&t){const t=e.$implicit,n=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngStyle",r.\u0275\u0275pureFunction1(5,z,"url("+n.api.mediaURL+t.cover+"),url(assets/imgs/closed.png)")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate2("",t.first_name," ",t.last_name,""),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate1(" ",t.email," "),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate1(" ",t.mobile," ")}}function j(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"div",37),r.\u0275\u0275template(1,D,11,7,"div",38),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",t.driverInfo)}}function $(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"p",11),r.\u0275\u0275text(1),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(1),r.\u0275\u0275textInterpolate1("",t.util.translate("Stores Informations")," ")}}function N(t,e){if(1&t){const t=r.\u0275\u0275getCurrentView();r.\u0275\u0275elementStart(0,"div"),r.\u0275\u0275elementStart(1,"div",37),r.\u0275\u0275elementStart(2,"div",39),r.\u0275\u0275element(3,"div",40),r.\u0275\u0275elementStart(4,"div",41),r.\u0275\u0275listener("click",function(){const e=r.\u0275\u0275restoreView(t).$implicit;return r.\u0275\u0275nextContext(3).contanct(e)}),r.\u0275\u0275elementStart(5,"p",42),r.\u0275\u0275text(6),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(7,"p",43),r.\u0275\u0275element(8,"mdb-icon",32),r.\u0275\u0275text(9),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(10,"p",43),r.\u0275\u0275element(11,"mdb-icon",32),r.\u0275\u0275text(12),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd()}if(2&t){const t=e.$implicit,n=r.\u0275\u0275nextContext(3);r.\u0275\u0275advance(3),r.\u0275\u0275property("ngStyle",r.\u0275\u0275pureFunction1(4,z,"url("+n.api.mediaURL+t.cover+"),url(assets/imgs/closed.png)")),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate(t.name),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate1(" ",t.email," "),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate1(" ",t.mobile," ")}}function T(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"div"),r.\u0275\u0275template(1,$,2,1,"p",21),r.\u0275\u0275template(2,N,13,6,"div",25),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext(2);r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",t.stores),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngForOf",t.stores)}}function A(t,e){if(1&t&&(r.\u0275\u0275elementStart(0,"div",10),r.\u0275\u0275elementStart(1,"p",11),r.\u0275\u0275text(2),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(3,"div",12),r.\u0275\u0275template(4,I,2,1,"div",13),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(5,"div",14),r.\u0275\u0275elementStart(6,"p"),r.\u0275\u0275text(7),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(8,"p",15),r.\u0275\u0275text(9),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(10,S,4,1,"div",16),r.\u0275\u0275elementStart(11,"p",11),r.\u0275\u0275text(12),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(13,"div",14),r.\u0275\u0275elementStart(14,"p"),r.\u0275\u0275text(15),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(16,"p",15),r.\u0275\u0275text(17),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(18,"div",14),r.\u0275\u0275elementStart(19,"p"),r.\u0275\u0275text(20),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(21,"p",15),r.\u0275\u0275text(22),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(23,"div",14),r.\u0275\u0275elementStart(24,"p"),r.\u0275\u0275text(25),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(26,"p",15),r.\u0275\u0275text(27),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(28,"p",11),r.\u0275\u0275text(29),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(30,"div",17),r.\u0275\u0275elementStart(31,"div",18),r.\u0275\u0275template(32,k,3,3,"span",19),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementStart(33,"div",20),r.\u0275\u0275template(34,w,6,10,"span",19),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(35,F,2,1,"p",21),r.\u0275\u0275template(36,j,2,1,"div",22),r.\u0275\u0275template(37,T,3,2,"div",23),r.\u0275\u0275elementEnd()),2&t){const t=r.\u0275\u0275nextContext();r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1(" ",t.util.translate("Orders")," "),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngIf",null==t.orders?null:t.orders.length),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate1("",t.util.translate("Deliver to")," "),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(t.orderAt),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf","home"==t.orderAt),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1("",t.util.translate("Basic Details")," "),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate1("",t.util.translate("Order ID")," "),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate(t.id),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate1("",t.util.translate("Payment Method")," "),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1(" ",t.payMethod," "),r.\u0275\u0275advance(3),r.\u0275\u0275textInterpolate1("",t.util.translate("Delivery On")," "),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1(" ",t.datetime," "),r.\u0275\u0275advance(2),r.\u0275\u0275textInterpolate1("",t.util.translate("Order Tracking")," "),r.\u0275\u0275advance(3),r.\u0275\u0275property("ngForOf",t.orderDetail),r.\u0275\u0275advance(2),r.\u0275\u0275property("ngForOf",t.orderDetail),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",t.driverInfo),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",t.driverInfo&&t.driverInfo.length),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",t.stores&&(null==t.stores?null:t.stores.length))}}const q=[{path:"",component:(()=>{class t{constructor(t,e,n,i,o){this.router=t,this.route=e,this.api=n,this.util=i,this.navCtrl=o,this.orderDetail=[],this.orders=[],this.status=[],this.driverInfo=[],this.stores=[],this.assigneeDriver=[],this.route.queryParams.subscribe(t=>{console.log(t),t&&t.id?(this.id=t.id,this.loaded=!1,this.getOrder()):this.navCtrl.back()})}getOrder(){this.api.post_private("v1/orders/getByOrderId",{id:this.id}).then(t=>{if(console.log(t),this.loaded=!0,t&&t.status&&200==t.status&&t.data){const e=t.data;console.log(e),this.orderDetail=JSON.parse(e.notes),console.log("driver???? ===>",this.orderDetail);const n=JSON.parse(e.orders);console.log("order===>>",n);const i=[];e.assignee&&""!==e.assignee&&(this.assigneeDriver=JSON.parse(e.assignee),console.log("ASSSIGNEE----\x3e>>>",this.assigneeDriver));const o=[...new Set(n.map(t=>t.store_id))];if(o.forEach(t=>{i.push({id:t,order:[],orderItemTotal:0,orderDiscount:0,shippingPrice:0,orderWalletDiscount:0,orderTaxAmount:0})}),o.forEach((t,a)=>{let r=0;n.forEach(e=>{e.variations&&""!==e.variations&&"string"==typeof e.variations&&(e.variations=JSON.parse(e.variations),console.log(e.variant),null==e.variant&&(e.variant=0)),e.store_id==t&&(i[a].order.push(e),r+=e&&0==e.discount?"1"==e.size||1==e.size?e.variations[0].items[e.variant].discount&&0!==e.variations[0].items[e.variant].discount?parseFloat(e.variations[0].items[e.variant].discount)*e.quantiy:parseFloat(e.variations[0].items[e.variant].price)*e.quantiy:parseFloat(e.original_price)*e.quantiy:"1"==e.size||1==e.size?e.variations[0].items[e.variant].discount&&0!==e.variations[0].items[e.variant].discount?parseFloat(e.variations[0].items[e.variant].discount)*e.quantiy:parseFloat(e.variations[0].items[e.variant].price)*e.quantiy:parseFloat(e.sell_price)*e.quantiy)}),e.discount>0&&(i[a].orderDiscount=e.discount/o.length),1==e.wallet_used&&(i[a].orderWalletDiscount=e.wallet_price/o.length),i[a].orderItemTotal=r,console.log("total",t,r)}),console.log("final order",i),this.orders=i,this.status=JSON.parse(e.status),console.log("order status--------------------",this.status),this.canCancle=this.status.filter(t=>"created"==t.status).length==this.status.length,this.isDelivered=this.status.filter(t=>"delivered"==t.status).length==this.status.length,this.datetime=a(e.date_time).format("dddd, MMMM Do YYYY"),this.payMethod="cod"==e.paid_method?"COD":"PAID",this.orderAt=e.order_to,this.driverId=e.driver_id,this.driverId&&null!==this.driverId&&(this.driverInfo=t.driverInfo),this.stores=t.storeInfo,"home"==this.orderAt){const t=JSON.parse(e.address);console.log("---address",t),t&&t.address&&(this.userLat=t.lat,this.userLng=t.lng,this.address=t.landmark+" "+t.house+" "+t.address+" "+t.pincode)}if((t=>{try{return JSON.parse(t),!0}catch(e){return!1}})(e.extra)){const t=JSON.parse(e.extra);console.log("extra==>>",t),t.forEach(t&&t.length&&"home"==e.order_to?t=>{if("km"==t.shipping){const e=parseFloat(t.distance)*parseFloat(t.shippingPrice);console.log("delivert charge of ",t.store_id,e);const n=this.orders.findIndex(e=>e.id==t.store_id);console.log("index=>",n),this.orders&&this.orders[n]&&this.orders[n].id==t.store_id&&(this.orders[n].shippingPrice=e,this.orders[n].orderTaxAmount=parseFloat(t.tax))}else{console.log(t.shippingPrice);const e=this.orders.findIndex(e=>e.id==t.store_id);console.log("index=>",e),this.orders&&this.orders[e]&&this.orders[e].id==t.store_id&&(this.orders[e].shippingPrice=parseFloat(t.shippingPrice)/this.orders.length,this.orders[e].orderTaxAmount=parseFloat(t.tax))}}:t=>{const e=this.orders.findIndex(e=>e.id==t.store_id);console.log("index=>",e),this.orders&&this.orders[e]&&this.orders[e].id==t.store_id&&(this.orders[e].orderTaxAmount=parseFloat(t.tax))})}console.log(this.orders)}else this.util.errorMessage(this.util.translate("Something went wrong"))},t=>{console.log(t),this.loaded=!0,this.util.errorMessage(this.util.translate("Something went wrong"))})}getTotalBilling(t){const e=t.orderItemTotal+t.orderTaxAmount+t.shippingPrice,n=t.orderDiscount+t.orderWalletDiscount;return e-n>0?e-n:0}ngOnInit(){}getDrivers(){this.api.post_private("drivers/getById",{id:this.driverId}).then(t=>{console.log(t)},t=>{console.log(t)})}getStoreName(t){const e=this.stores.filter(e=>e.uid==t);return e&&e.length?e[0].name:"Store"}getOrderStatus(t){const e=this.status.filter(e=>e.id==t);return e&&e.length?e[0].status:"created"}goToTracker(){this.router.navigate(["/tracker"])}back(){this.navCtrl.back()}contanct(t){console.log(t)}contanctDriver(t){console.log(t)}}return t.\u0275fac=function(e){return new(e||t)(r.\u0275\u0275directiveInject(o.F0),r.\u0275\u0275directiveInject(o.gz),r.\u0275\u0275directiveInject(d.s),r.\u0275\u0275directiveInject(c.f),r.\u0275\u0275directiveInject(i.Location))},t.\u0275cmp=r.\u0275\u0275defineComponent({type:t,selectors:[["app-order-detail"]],decls:7,vars:2,consts:[[1,"container"],[1,"row"],[2,"display","flex","flex-direction","row","justify-content","flex-start"],["mdbWavesEffect","",3,"click"],["fas","","icon","arrow-left",1,"mr-1"],["style","display: flex;flex-direction: column;justify-content: center;align-items: center;",4,"ngIf"],["class","main_content_div",4,"ngIf"],[2,"display","flex","flex-direction","column","justify-content","center","align-items","center"],["role","status",1,"spinner-border","text-success"],[1,"sr-only"],[1,"main_content_div"],[1,"titles"],[1,"desc_div"],["class","border_bottom",4,"ngIf"],[1,"flex_div"],[1,"values"],["class","flex_div",4,"ngIf"],[1,"tracking_div"],[1,"left"],["style","display: flex;flex-direction: column;justify-content: center;align-items: center;",4,"ngFor","ngForOf"],[1,"right"],["class","titles",4,"ngIf"],["class","card_div",4,"ngIf"],[4,"ngIf"],[1,"border_bottom"],[4,"ngFor","ngForOf"],[1,"storeName"],[1,"name"],[1,"status"],["class","items",4,"ngFor","ngForOf"],[1,"items-billing"],[1,"items"],["fas","","icon","map-marker-alt"],[1,"line_div"],["fas","","icon","check-circle",4,"ngIf"],["fas","","icon","check-circle"],[1,"round_div_gray"],[1,"card_div"],["class","resto_detail",4,"ngFor","ngForOf"],[1,"resto_detail"],[1,"back_image",3,"ngStyle"],[2,"margin-left","10px",3,"click"],[1,"res_name"],[1,"res_location"]],template:function(t,e){1&t&&(r.\u0275\u0275elementStart(0,"div",0),r.\u0275\u0275elementStart(1,"div",1),r.\u0275\u0275elementStart(2,"div",2),r.\u0275\u0275elementStart(3,"a",3),r.\u0275\u0275listener("click",function(){return e.back()}),r.\u0275\u0275element(4,"mdb-icon",4),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275elementEnd(),r.\u0275\u0275template(5,s,4,1,"div",5),r.\u0275\u0275template(6,A,38,18,"div",6),r.\u0275\u0275elementEnd()),2&t&&(r.\u0275\u0275advance(5),r.\u0275\u0275property("ngIf",!e.loaded),r.\u0275\u0275advance(1),r.\u0275\u0275property("ngIf",e.loaded))},directives:[l.b6,l.Ui,l.XI,i.NgIf,i.NgForOf,i.NgStyle],styles:['@charset "UTF-8";.main_content_div[_ngcontent-%COMP%]{width:100%;padding:16px}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]{padding:20px}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .resto_detail[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;position:relative}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .resto_detail[_ngcontent-%COMP%]   .back_image[_ngcontent-%COMP%]{height:50px;width:50px;background-position:center;background-size:cover;background-repeat:no-repeat;border-radius:100%}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .resto_detail[_ngcontent-%COMP%]   .res_name[_ngcontent-%COMP%]{font-family:"semi-bold";font-size:14px}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .resto_detail[_ngcontent-%COMP%]   .res_location[_ngcontent-%COMP%]{color:gray;font-size:14px}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .resto_detail[_ngcontent-%COMP%]   .order_id[_ngcontent-%COMP%]{position:absolute;right:5px}.main_content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .resto_detail[_ngcontent-%COMP%]   .order_id[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{text-align:right}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]{padding:10px 20px}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]   .personal_detail[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]   .personal_detail[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#45c261}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]   .personal_detail[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 3px;font-family:"semi-bold"}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]   .personal_detail[_ngcontent-%COMP%]   .res_name[_ngcontent-%COMP%]{font-family:"semi-bold";font-size:14px}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]   .order_detail[_ngcontent-%COMP%]   .head_gray[_ngcontent-%COMP%]{color:gray;font-size:13px;margin-top:10px}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]   .order_detail[_ngcontent-%COMP%]   .small_lbl[_ngcontent-%COMP%]{font-size:14px;font-family:"semi-bold"}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]   .order_detail[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]{position:absolute;right:35px;font-family:"semi-bold";color:#000}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]   .order_detail[_ngcontent-%COMP%]   .prize1[_ngcontent-%COMP%]{position:absolute;right:35px;font-family:"semi-bold";color:#000;font-size:16px;margin-top:10px}.main_content_div[_ngcontent-%COMP%]   .card_div2[_ngcontent-%COMP%]   .order_detail[_ngcontent-%COMP%]   .small_lbl2[_ngcontent-%COMP%]{font-size:16px;font-family:"semi-bold";margin-top:10px}.main_content_div[_ngcontent-%COMP%]   .titles[_ngcontent-%COMP%]{font-size:15px;font-family:"semi-bold";margin:20px 0;border-bottom:1px solid lightgray;padding-bottom:10px}.main_content_div[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:block}.main_content_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]{width:100%}.main_content_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .border_bottom[_ngcontent-%COMP%]{padding-bottom:10px;width:100%}.main_content_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .border_bottom[_ngcontent-%COMP%]   .storeName[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;border-bottom:1px solid lightgray;padding-bottom:10px}.main_content_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .border_bottom[_ngcontent-%COMP%]   .storeName[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-family:"semi-bold"}.main_content_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .border_bottom[_ngcontent-%COMP%]   .storeName[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-family:"semi-bold"}.main_content_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .border_bottom[_ngcontent-%COMP%]   .items[_ngcontent-%COMP%]{margin:0 0 10px;display:flex;flex-direction:row;justify-content:space-between;font-size:12px;font-family:"semi-bold";padding-bottom:5px;border-bottom:.5px dashed lightgray}.main_content_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .border_bottom[_ngcontent-%COMP%]   .items-billing[_ngcontent-%COMP%]{margin:0 0 10px;display:flex;flex-direction:row;justify-content:space-between;font-size:12px;padding-bottom:5px;border-bottom:.5px dashed lightgray;font-family:"semi-bold"}.main_content_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .border_bottom[_ngcontent-%COMP%]   .items-billing[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:"semi-bold"}.main_content_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .border_bottom[_ngcontent-%COMP%]   .itemss[_ngcontent-%COMP%]{margin:0 0 5px;display:flex;flex-direction:row;justify-content:space-between;font-size:12px;font-family:"semi-bold"}.main_content_div[_ngcontent-%COMP%]   .flex_div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;font-size:12px;padding-bottom:10px}.main_content_div[_ngcontent-%COMP%]   .flex_div[_ngcontent-%COMP%]   .values[_ngcontent-%COMP%]{font-family:"semi-bold";text-transform:capitalize}.main_content_div[_ngcontent-%COMP%]   .hr_line_div[_ngcontent-%COMP%]{margin-top:15px;width:100%;height:1px;background:lightgray}.main_content_div[_ngcontent-%COMP%]   .tracking_div[_ngcontent-%COMP%]{margin-top:30px;display:flex;flex-direction:row}.main_content_div[_ngcontent-%COMP%]   .tracking_div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:20%}.main_content_div[_ngcontent-%COMP%]   .tracking_div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .line_div[_ngcontent-%COMP%]{height:40px;width:1px;border:1px solid #e8e8e8}.main_content_div[_ngcontent-%COMP%]   .tracking_div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .line_div_darkgray[_ngcontent-%COMP%]{height:40px;width:1px;border:1px solid #c8c7ce}.main_content_div[_ngcontent-%COMP%]   .tracking_div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .round_div_gray[_ngcontent-%COMP%]{height:20px;width:20px;background-color:#e8e8e8;border-radius:50%;margin-left:-9px}.main_content_div[_ngcontent-%COMP%]   .tracking_div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .round_div_darkgray[_ngcontent-%COMP%]{height:20px;width:20px;background-color:#c8c7ce;border-radius:50%;margin-left:-9px}.main_content_div[_ngcontent-%COMP%]   .tracking_div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .round_div_red[_ngcontent-%COMP%]{height:20px;width:20px;background-color:#45c261;border-radius:50%;margin-left:-9px}.main_content_div[_ngcontent-%COMP%]   .tracking_div[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;margin-left:-7px;color:#45c261;background:#f4f5f8;border-radius:50%}.main_content_div[_ngcontent-%COMP%]   .tracking_div[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:80%}.main_content_div[_ngcontent-%COMP%]   .tracking_div[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .line_div[_ngcontent-%COMP%]{height:45px;width:100%;display:flex;align-items:flex-end}.main_content_div[_ngcontent-%COMP%]   .tracking_div[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .round_div_gray[_ngcontent-%COMP%]{height:20px;width:100% px;color:#c8c7ce}.main_content_div[_ngcontent-%COMP%]   .tracking_div[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .round_div_red[_ngcontent-%COMP%]{height:20px;width:100% px;color:var(--ion-color-main)}.main_content_div[_ngcontent-%COMP%]   .tracking_div[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .round_div_darkgray[_ngcontent-%COMP%]{height:20px;width:100%;color:gray}.btn_div[_ngcontent-%COMP%]{display:flex;justify-content:center}.btn_div[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-family:"semi-bold";--border-radius: 5px;width:130px}.btn_div[_ngcontent-%COMP%]   .reject[_ngcontent-%COMP%]{--background: var(--ion-color-danger)}.btn_div[_ngcontent-%COMP%]   .accept[_ngcontent-%COMP%]{--background: #45c261}.status_div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-left:20px;padding-right:20px;align-items:center}.status_div[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{border:1px solid lightgray;border-radius:5px;--padding-top: 3px;--padding-bottom: 3px;width:100%}.status_div[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{font-family:"semi-bold";--border-radius: 5px}.green[_ngcontent-%COMP%]{display:block;text-align:center;color:green;font-family:"semi-bold"}.red[_ngcontent-%COMP%]{display:block;text-align:center;color:#45c261;font-family:"semi-bold"}']}),t})()}];let B=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=r.\u0275\u0275defineInjector({imports:[[o.Bz.forChild(q)],o.Bz]}),t})(),J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=r.\u0275\u0275defineInjector({imports:[[i.CommonModule,B,l.yi.forRoot()]]}),t})()}}]);